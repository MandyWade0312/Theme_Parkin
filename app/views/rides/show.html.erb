<p id="notice"><%= notice %></p>

<p>
  <strong>Name:</strong>
  <%= @ride.name %>
</p>

<p>
  <strong>Description:</strong>
  <%= @ride.description %>
</p>

<p>
  <strong>Type of ride:</strong>
  <%= @ride.type_of_ride %>
</p>

<p>
  <strong>Latitude:</strong>
  <%= @ride.latitude %>
</p>

<p>
  <strong>Longitude:</strong>
  <%= @ride.longitude %>
</p>

<p>
  <strong>Park:</strong>
  <%= @ride.park.name %>
</p>

<p><strong>Reviews for <%= @ride.name %></strong></p>

<table>
  <thead>
    <tr>
      <th>Summary</th>
      <th>Body</th>
      <th>Stars</th>
      <th>Review Author</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @reviews.each do |review| %>
      <tr>
        <td><%= review.summary %></td>
        <td><%= review.body %></td>
        <td><%= review.stars %></td>
        <% if review.user.nil? %>
          <td><%= 'Unknown Author' %></td>
        <% else %>
          <td><%= review.user.name %></td>
        <% end %>
        <% if current_user %>
          <td><%= link_to 'Delete Review', review, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<% if current_user %>
<p><strong>Add a New Review for <%= @ride.name %><strong></p>
  <%= form_with(model: Review.new, local: true) do |form| %>
    <%= form.hidden_field :ride_id, value: @ride.id %>
    <div class="field">
      <%= form.label :summary %>
      <%= form.text_area :summary %>
    </div>

    <div class="field">
      <%= form.label :body %>
      <%= form.text_area :body %>
    </div>

    <div class="field">
      <%= form.label :stars %>
      <%= form.number_field :stars %>
    </div>
    <%= form.submit %>
  <% end %>
<% end %>
<%
=begin%>
 <% if current_user %>
  <%= link_to 'New Review', new_review_path %> |
<% end %> 
<%
=end%>
<%= link_to 'Edit Ride', edit_ride_path(@ride) %> |
<%= link_to 'Back', parks_path %> |
<%= link_to 'Delete Ride', @ride, method: :delete, data: { confirm: 'Are you sure?' } %>